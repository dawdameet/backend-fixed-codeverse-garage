{
  "team_id": "rishi",
  "bug_id": 1,
  "domain": "fintech",
  "commit_hash": "8af2ba057dee807ec6ab0085ca828a45299ced30",
  "commit_message": "fix #1",
  "submission_time": "2025-11-08T10:27:06.098673",
  "status": "submitted",
  "verified": true,
  "points": 10,
  "code_changes": [
    {
      "filename": "fintechScript.py",
      "changes": [
        {
          "added": [
            "# populate_puzzle_market_bugs_complete.py",
            "# Complete version: All bugs included; creates labels first, then issues.",
            "# Run with: python populate_puzzle_market_bugs_complete.py",
            "# Prerequisites: GitHub CLI (gh) authenticated; write access to \"DJSCE-codeAI/CodeVerse\".",
            "",
            "import subprocess",
            "import json",
            "import sys",
            "",
            "def create_labels(repo, bugs_data):",
            "    \"\"\"Create all necessary labels if they don't exist\"\"\"",
            "    print(f\"Creating labels for {repo}...\")",
            "    ",
            "    # Common labels",
            "    labels = [",
            "        {\"name\": \"market-intelligence\", \"color\": \"0e8a16\", \"desc\": \"Market Intelligence Financial AI module\"},",
            "        {\"name\": \"puzzle\", \"color\": \"9f7ae2\", \"desc\": \"Puzzle-style bug with riddle hint\"},",
            "    ]",
            "    ",
            "    # Bug-specific labels",
            "    for bug in bugs_data:",
            "        labels.append({",
            "            \"name\": f\"bug-{bug['id']}\",",
            "            \"color\": \"d73a4a\",  # Red for bugs",
            "            \"desc\": f\"Bug #{bug['id']} in Market Intelligence module\"",
            "        })",
            "    ",
            "    for label in labels:",
            "        try:",
            "            subprocess.run([",
            "                \"gh\", \"label\", \"create\", label[\"name\"],",
            "                \"--repo\", repo,",
            "                \"--color\", label[\"color\"],",
            "                \"--description\", label[\"desc\"]",
            "            ], check=True, capture_output=True)",
            "            print(f\"Created label: {label['name']}\")",
            "        except subprocess.CalledProcessError:",
            "            print(f\"Label {label['name']} already exists; skipping.\")",
            "",
            "def create_bug_issues(repo, bugs_data):",
            "    \"\"\"Create bug issues with minimal body\"\"\"",
            "    print(f\"Populating puzzle bugs for {repo} (Market Intelligence module)...\")",
            "    created_count = 0",
            "    ",
            "    for bug in bugs_data:",
            "        issue_body = f\"\"\"",
            "**Bug ID**: {bug['id']}",
            "**Module**: Market Intelligence (Financial AI)",
            "**Status**: UNRESOLVED",
            "\"\"\"",
            "        ",
            "        # Labels: bug-{id}, market-intelligence, puzzle",
            "        labels = [f\"bug-{bug['id']}\", \"market-intelligence\", \"puzzle\"]",
            "        label_str = \",\".join(labels)",
            "        ",
            "        try:",
            "            # Create issue using GitHub CLI",
            "            result = subprocess.run([",
            "                \"gh\", \"issue\", \"create\",",
            "                \"-R\", repo,",
            "                \"-t\", f\"Bug {bug['id']}: {bug['title']}\",",
            "                \"-b\", issue_body,",
            "                \"--label\", label_str",
            "            ], check=True, capture_output=True)",
            "            ",
            "            print(f\"Created issue for Bug {bug['id']}: {bug['title']}\")",
            "            created_count += 1",
            "        except subprocess.CalledProcessError as e:",
            "            print(f\"Failed to create issue for Bug {bug['id']}: {e}\")",
            "            if e.stderr:",
            "                print(f\"  Error: {e.stderr.decode()}\")",
            "    ",
            "    print(f\"Total new issues created: {created_count}/{len(bugs_data)}\")",
            "",
            "# Complete list of all bugs",
            "market_bugs = [",
            "  {",
            "    \"id\": 1,",
            "    \"title\": \"Incorrect VADER Sentiment Threshold\",",
            "    \"points\": 10",
            "  },",
            "  {",
            "    \"id\": 2,",
            "    \"title\": \"Reversed Stopword Filter Logic\",",
            "    \"points\": 10",
            "  },",
            "  {",
            "    \"id\": 3,",
            "    \"title\": \"Overly Aggressive Regex Pattern\",",
            "    \"points\": 10",
            "  },",
            "  {",
            "    \"id\": 4,",
            "    \"title\": \"Headlines List Overwrite\",",
            "    \"points\": 10",
            "  },",
            "  {",
            "    \"id\": 5,",
            "    \"title\": \"Incorrect VaR Percentile Calculation\",",
            "    \"points\": 10",
            "  },",
            "  {",
            "    \"id\": 6,",
            "    \"title\": \"Missing Volatility Annualization\",",
            "    \"points\": 10",
            "  },",
            "  {",
            "    \"id\": 7,",
            "    \"title\": \"Invalid Portfolio Weight Normalization\",",
            "    \"points\": 10",
            "  },",
            "  {",
            "    \"id\": 8,",
            "    \"title\": \"Incorrect Beta Calculation Formula\",",
            "    \"points\": 10",
            "  },",
            "  {",
            "    \"id\": 9,",
            "    \"title\": \"Identical Plot Lines for Actual vs Predicted\",",
            "    \"points\": 10",
            "  },",
            "  {",
            "    \"id\": 10,",
            "    \"title\": \"Data Leakage from Shuffling Time Series\",",
            "    \"points\": 10",
            "  },",
            "  {",
            "    \"id\": 11,",
            "    \"title\": \"Incorrect RSI Calculation Formula\",",
            "    \"points\": 10",
            "  },",
            "  {",
            "    \"id\": 12,",
            "    \"title\": \"Fake Future Prediction using Naive Formula\",",
            "    \"points\": 10",
            "  },",
            "  {",
            "    \"id\": 13,",
            "    \"title\": \"Inverted Log Return Calculation\",",
            "    \"points\": 10",
            "  },",
            "  {",
            "    \"id\": 14,",
            "    \"title\": \"Incorrect EWMA Weighting Formula\",",
            "    \"points\": 10",
            "  },",
            "  {",
            "    \"id\": 15,",
            "    \"title\": \"Independent Random Variables for Correlated Components\",",
            "    \"points\": 10",
            "  },",
            "  {",
            "    \"id\": 16,",
            "    \"title\": \"Mis-mapped Percentile Output Variables\",",
            "    \"points\": 10",
            "  },",
            "  {",
            "    \"id\": 17,",
            "    \"title\": \"Inverted PnL Calculation for Short Trades\",",
            "    \"points\": 10",
            "  },",
            "  {",
            "    \"id\": 18,",
            "    \"title\": \"Flipped Mean-Reversion Entry Logic\",",
            "    \"points\": 10",
            "  },",
            "  {",
            "    \"id\": 19,",
            "    \"title\": \"Off-by-One Window Size Error\",",
            "    \"points\": 10",
            "  },",
            "  {",
            "    \"id\": 20,",
            "    \"title\": \"Lookahead Bias in Signal Calculation\",",
            "    \"points\": 10",
            "  }",
            "]",
            "",
            "# Target repo",
            "repo = \"Zimaad/team-rishi-fintech\"",
            "",
            "if __name__ == \"__main__\":",
            "    print(\"Starting Market Intelligence Bug Population Script...\")",
            "    print(f\"Target Repository: {repo}\")",
            "    print(f\"Total Bugs to Create: {len(market_bugs)}\")",
            "    ",
            "    # Create labels first",
            "    create_labels(repo, market_bugs)",
            "    ",
            "    # Then create issues",
            "    create_bug_issues(repo, market_bugs)",
            "    ",
            "    print(\"\\nAll done! Check your GitHub Issues tab.\")",
            "    print(\"Teams can now solve puzzles and submit fixes with 'bug fixed -X' in commit messages.\")"
          ],
          "removed": []
        }
      ]
    },
    {
      "filename": "market_sentiment/sentiment_analyzer.py",
      "changes": [
        {
          "added": [
            "        if compound >= 0.05:"
          ],
          "removed": [
            "        if compound >= 0.5:"
          ]
        }
      ]
    }
  ],
  "llm_verification": "{\n  \"BUG1\": \"true\"\n}",
  "llm_verified": true,
  "verification_method": "llm"
}